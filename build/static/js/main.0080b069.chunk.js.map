{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/contacts.js","App.js","index.js"],"names":["Persons","person","deletePerson","newSearch","content","number","type","onClick","Filter","handleSearch","onChange","PersonForm","adder","name","nameHand","num","numHand","onSubmit","value","baseUrl","axios","get","then","response","data","newObject","request","post","console","log","body","id","put","delete","catch","error","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","changeMessage","setChangeMessage","errorMessage","setErrorMessage","useEffect","personService","initialContacts","Notification","message","className","Error","event","target","preventDefault","nameObject","date","Date","toISOString","important","Math","random","sameName","element","testi","some","testi2","find","changedNumber","window","confirm","returnedContact","map","setTimeout","alert","concat","filter","includes","filteredName","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0080b069.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({person, newSearch, deletePerson}) => {\r\n\r\n  return (\r\n    <>\r\n      <p>{person.content} {person.number} <button type=\"submit\" onClick={deletePerson}>delete</button>\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Filter = ({handleSearch}) => {\r\n  return (\r\n    <div> filter shown with <input onChange={handleSearch} /></div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({adder, name, nameHand, num, numHand}) => {\r\n  return (\r\n    <>\r\n    <h3>add a new</h3>\r\n    <form onSubmit={adder}>\r\n      <div>\r\n        name: <input\r\n          value={name}\r\n          onChange={nameHand}\r\n          />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n          value={num}\r\n          onChange={numHand}\r\n          />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  console.log(request.body)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id, name) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n    .catch(error => {\r\n      console.log('fail')\r\n    })\r\n}\r\n\r\nexport default {getAll, create, update, deletePerson}\r\n","import React, {useState, useEffect} from 'react';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm'\nimport personService from './services/contacts'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [changeMessage, setChangeMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n//Datan hakeminen json-serveriltä\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n  }, [])\n\n//--------\n\n//Uuden tiedon lisääminen serverille\n\n  const addContact = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n      important: Math.random() > 0.5,\n    }\n    const sameName = (element) => element.name === newName\n    const testi = persons.some(sameName)\n    const sameNumber = (element) => element.number === newNumber\n    const testi2 = persons.some(sameNumber)\n    const person = persons.find(person => person.name === newName)\n    const changedNumber = {...person, number: newNumber}\n    console.log(persons.some(sameName))\n\n    if(testi === true && testi2 === false) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        personService\n          .update(person.id, changedNumber)\n          .then(returnedContact => {\n            setPersons(persons.map(person => person.name !== nameObject.name ? person : returnedContact))\n            setNewName('')\n            setNewNumber('')\n          })\n          .then(error => {\n            setChangeMessage(\n              `Number's change for ${newName} committed`\n            )\n            setTimeout(() => {\n              setChangeMessage('')\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage('')\n            }, 5000)\n          })\n      }\n\n    } else if(testi === true) {\n        window.alert(`${newName} is already added to phonebook`)\n\n    } else {\n      personService\n        .create(nameObject)\n        .then(returnedContact => {\n          setPersons(persons.concat(returnedContact))\n          setNewName('')\n          setNewNumber('')\n        })\n        .then(error => {\n          setChangeMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setChangeMessage('')\n          }, 5000)\n        })\n    }\n  }\n\n//--------\n\n//Yhteystiedon poistaminen\n\n  const deletePerson = (id, name) => {\n\n    if(window.confirm(`Delete ${name} ?`)) {\n      personService\n        .deletePerson(id, name)\n        setPersons(persons.filter(person => person.id !== id))\n        setChangeMessage(\n            `${name} deleted`\n          )\n          setTimeout(() => {\n            setChangeMessage('')\n          }, 5000)\n    }\n\n\n  }\n\n//--------\n\n//Muutosilmoituksen käsittely\n\nconst Notification = ({message}) => {\n  if (message === '') {\n    return null;\n  } else {\n    return (\n      <div className=\"change\">\n        {message}\n      </div>\n    )\n  }\n\n}\n\n//--------\n\n//Virheilmoituksen käsittely\n\nconst Error = ({message}) => {\n  if (message === '') {\n    return null;\n  } else {\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n}\n\n//--------\n\n//Yhteystietojen ja hakujen käsittelyt\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n//--------\n\nreturn (\n  <>\n    <h2>Phonebook</h2>\n\n    <Notification message={changeMessage}/>\n    <Error message={errorMessage}/>\n\n    <Filter handleSearch={handleSearch}/>\n\n    <PersonForm adder={addContact} name={newName} nameHand={handleNameChange}\n    num={newNumber} numHand={handleNumberChange}/>\n\n    <h3>Numbers</h3>\n\n    {persons.filter(person =>\n      person.content.includes(newSearch))\n        .map((filteredName) =>\n          <Persons\n              key = {filteredName.id}\n          \t  person = {filteredName}\n              deletePerson={() => deletePerson(filteredName.id, filteredName.name)}\n          />\n        )\n    }\n\n  </>\n)\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}