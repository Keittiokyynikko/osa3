{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/contacts.js","App.js","index.js"],"names":["Persons","person","deletePerson","newSearch","content","number","type","onClick","Filter","handleSearch","onChange","PersonForm","adder","nameHand","num","numHand","onSubmit","value","baseUrl","axios","get","then","response","data","newObject","request","post","console","log","id","put","delete","catch","error","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","changeMessage","setChangeMessage","errorMessage","setErrorMessage","useEffect","personService","initialContacts","Notification","message","className","Error","event","target","preventDefault","nameObject","date","Date","toISOString","important","Math","random","sameName","element","testi","some","testi2","find","changedNumber","window","confirm","returnedContact","map","setTimeout","alert","concat","JSON","stringify","filter","includes","filteredName","key","picked","name","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d854e1a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({person, newSearch, deletePerson}) => {\r\n\r\n  return (\r\n    <>\r\n      <p>{person.content} {person.number} <button type=\"submit\" onClick={deletePerson}>delete</button>\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Filter = ({handleSearch}) => {\r\n  return (\r\n    <div> filter shown with <input onChange={handleSearch} /></div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({adder, content, nameHand, num, numHand}) => {\r\n  return (\r\n    <>\r\n    <h3>add a new</h3>\r\n    <form onSubmit={adder}>\r\n      <div>\r\n        name: <input\r\n          value={content}\r\n          onChange={nameHand}\r\n          />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n          value={num}\r\n          onChange={numHand}\r\n          />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  console.log(newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id, content) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n    .catch(error => {\r\n      console.log('fail')\r\n    })\r\n}\r\n\r\nexport default {getAll, create, update, deletePerson}\r\n","import React, {useState, useEffect} from 'react';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm'\nimport personService from './services/contacts'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [changeMessage, setChangeMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n//Datan hakeminen json-serveriltä\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n  }, [])\n\n//--------\n\n//Uuden tiedon lisääminen serverille\n\n  const addContact = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    const nameObject = {\n      content: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n      important: Math.random() > 0.5,\n    }\n    const sameName = (element) => element.content === newName\n    const testi = persons.some(sameName)\n    const sameNumber = (element) => element.number === newNumber\n    const testi2 = persons.some(sameNumber)\n    const person = persons.find(person => person.content === newName)\n    const changedNumber = {...person, number: newNumber}\n    console.log(persons.some(sameName))\n\n    if(testi === true && testi2 === false) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        personService\n          .update(person.id, changedNumber)\n          .then(returnedContact => {\n            setPersons(persons.map(person => person.content !== nameObject.content ? person : returnedContact))\n            setNewName('')\n            setNewNumber('')\n          })\n          .then(error => {\n            setChangeMessage(\n              `Number's change for ${newName} committed`\n            )\n            setTimeout(() => {\n              setChangeMessage('')\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage('')\n            }, 5000)\n          })\n      }\n\n    } else if(testi === true && testi2 === true) {\n        window.alert(`${newName} is already added to phonebook`)\n\n    } else if (testi === false && testi2 === false) {\n      personService\n        .create(nameObject)\n        .then(returnedContact => {\n          setPersons(persons.concat(returnedContact))\n          setNewName('')\n          setNewNumber('')\n        })\n        .then(error => {\n          setChangeMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setChangeMessage('')\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage(JSON.stringify(error.response.data))\n          setTimeout(() => {\n            setErrorMessage('')\n          }, 5000)\n        })\n    }\n  }\n\n//--------\n\n//Yhteystiedon poistaminen\n\n  const deletePerson = (id, content) => {\n\n    const picked = persons.find(person => person.id === id)\n\n    if(window.confirm(`Delete ${picked.content} ?`)) {\n      personService\n        .deletePerson(id, content)\n        setPersons(persons.filter(person => person.id !== id))\n        setChangeMessage(\n            `${picked.content} deleted`\n          )\n          setTimeout(() => {\n            setChangeMessage('')\n          }, 5000)\n    }\n\n\n  }\n\n//--------\n\n//Muutosilmoituksen käsittely\n\nconst Notification = ({message}) => {\n  if (message === '') {\n    return null;\n  } else {\n    return (\n      <div className=\"change\">\n        {message}\n      </div>\n    )\n  }\n\n}\n\n//--------\n\n//Virheilmoituksen käsittely\n\nconst Error = ({message}) => {\n  if (message === '') {\n    return null;\n  } else {\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n}\n\n//--------\n\n//Yhteystietojen ja hakujen käsittelyt\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n//--------\n\nreturn (\n  <>\n    <h2>Phonebook</h2>\n\n    <Notification message={changeMessage}/>\n    <Error message={errorMessage}/>\n\n    <Filter handleSearch={handleSearch}/>\n\n    <PersonForm adder={addContact} content={newName} nameHand={handleNameChange}\n    num={newNumber} numHand={handleNumberChange}/>\n\n    <h3>Numbers</h3>\n\n    {persons.filter(person =>\n      person.content.includes(newSearch))\n        .map((filteredName) =>\n          <Persons\n              key = {filteredName.id}\n          \t  person = {filteredName}\n              deletePerson={() => deletePerson(filteredName.id, filteredName.name)}\n          />\n        )\n    }\n\n  </>\n)\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}